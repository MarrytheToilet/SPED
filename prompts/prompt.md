# 人工关节材料数据提取 - 完整指南

## 📋 任务目标

从学术论文（Markdown格式）中提取**人工关节材料的实验数据**，按照12表结构输出JSON格式的结构化数据。

**数据结构说明**：
- **1个主表**：Sheet1_基本信息表（记录实验的基本标识和论文信息）
- **11个从表**：通过"数据ID"关联，分别记录内衬、球头、股骨柄、配合、实验、模拟等详细信息
- **12表关系**：一条主表记录对应一组从表记录，形成完整的实验数据集

---

## 🎯 核心原则（必读）

### 黄金五原则
1. **只提取明确信息** - 仅提取论文中明确写出的数据，必须有数值+单位
2. **绝不推测编造** - 不确定的信息必须留空null，严禁猜测和补全
3. **保持原始单位** - 严禁任何单位转换（如cm→mm、μm→nm），保持论文原文单位
4. **保留完整信息** - 完整保留误差范围（±）、不等式（<、>）、范围值（-）、图表来源标注
5. **识别多实验** - 同一篇论文中的多个独立实验→创建多条独立记录

### 严格禁止行为
- ❌ 编造或推测任何数值
- ❌ 进行单位转换（必须保持论文原单位）
- ❌ 从范围值选取中间值（例如："10-20 mm"不能写成"15 mm"）
- ❌ 从图表曲线目测读数（除非图中有明确标注的数值点）
- ❌ 补全或推断缺失的数据

---

## 🔍 提取规则详解

### ✅ 可以提取的内容

#### 1. 明确的数值数据
必须同时具备：数值 + 单位 + 清晰的上下文

**正确示例**：
```
论文原文                           → 提取结果
"球头直径为28 mm"                  → "28 mm"
"载荷2000 N，频率1 Hz"            → 分别提取到对应字段
"磨损率2.3±0.5 mg/10⁶ cycles"    → "2.3±0.5 mg/10⁶ cycles"（保留完整）
"硬度为450 HV (范围440-460 HV)"  → "450 HV (440-460 HV)"（保留范围信息）
"弹性模量>200 GPa"                → ">200 GPa"（保留不等式）
"间隙0.05-0.1 mm"                 → "0.05-0.1 mm"（保留范围，不取中间值）
```

#### 2. 表格数据
表格中明确标注的所有数值，必须标注表格编号

**正确示例**：
```
Table 1中显示直径为28 mm         → "28 mm (Table 1)"
Table 3的磨损率数据              → "2.3 mg/10⁶ cycles (Table 3)"
表格多行数据                      → 每行创建一条独立记录
```

**注意**：如果表格有多行数据（如对比不同样本），必须为每行创建独立记录。

#### 3. 图片数据（重要⭐）
仅提取图注中明确写出的数值或图中清晰标注的数据点

**图片链接格式要求**：
- 必须包含完整路径：`images/文件名.jpg`
- 格式：`"数值 (Figure X: images/完整文件名.jpg)"`
- 如果同时来自表格和图片：`"数值 (Table X, Figure Y: images/xxx.jpg)"`

**正确示例**：
```
图注："Grain size of 5±1.2 μm"
Markdown: ![](images/58a6588ced017d00.jpg)
         Figure 1: Grain size analysis
         
→ 提取为："5±1.2 μm (Figure 1: images/58a6588ced017d00.jpg)"
```

**错误示例**：
```
❌ "5 μm (Figure 1)"                     # 缺少图片路径
❌ "5 μm (58a6588c.jpg)"                # 缺少images/前缀
❌ "5 μm"                                # 应标注来源
```

#### 4. 材料和工艺描述
明确写出的材料名称、加工工艺、处理方法

**正确示例**：
```
"CoCrMo合金"                    → 直接提取
"100 kGy γ射线辐照交联"         → 完整提取
"ISO 14242-1标准模拟器"         → 完整提取
"热压烧结法制备"                → 完整提取
```

---

### ❌ 必须留空null的情况

#### 1. 模糊或定性描述
没有具体数值的描述性语言

**示例**：
```
"约30 mm左右"        → null（"约"、"左右"表示不精确）
"较高的硬度"          → null（没有数值）
"显著改善"            → null（定性描述）
"明显降低"            → null（定性描述）
"适当的载荷"          → null（没有具体数值）
```

#### 2. 需要推测或计算
论文未直接给出，需要推导或估算的数据

**示例**：
```
"根据图3可估算约为..."    → null
"理论上应该是..."         → null
"可以推断..."             → null
需要从曲线图目测的数值     → null（除非有明确标注点）
需要计算得出的数值         → null（除非论文已给出计算结果）
```

#### 3. 缺少单位或上下文不清晰
单位缺失或无法确定具体含义

**示例**：
```
"直径28"              → null（缺少单位，不能假设为mm）
"载荷2000"            → null（缺少单位，不能假设为N）
"硬度450"             → null（不确定是HV还是HRC）
"5"                   → null（完全没有上下文）
```

#### 4. 不在本研究范围内的引用数据
论文只是引用他人数据，但未在本研究中验证或使用

**示例**：
```
"文献[15]报道的磨损率..."   → 如果本研究未使用，则null
                              （如果是综述性论文，可提取并标注来源）
```

---

## 📊 图表数据提取（精简版）

### Markdown中的图片格式
```markdown
![](images/58a6588ced...f3f4534d.jpg)
Figure 1: Grain size of 5±1.2 μm
```

### 提取规则（重要⭐）

**标准格式**：`"数值 (Figure X: images/完整文件名.jpg)"`

**示例**：
```json
{
  "球头晶粒尺寸": "5±1.2 μm (Figure 1: images/58a6588ced...534d.jpg)",
  "磨损率": "2.3 mg/10⁶ cycles (Table 3, Figure 5: images/362879...e9df.jpg)",
  "硬度": "450 HV (Table 2)"
}
```

**Sheet12特殊处理**：
```json
{
  "计算建模模拟结构图": "images/xxx.jpg",  // 只放路径
  "计算建模模拟结构图说明": "Figure 1: 完整图注说明"  // 放完整说明
}
```

**✅ 可以提取**：图注数值、图中标注点
**❌ 不能提取**：需要目测的曲线、未标注数值

---

## 🔢 单位规范（强制）

**格式**：`数字 + 空格 + 单位`，保持原单位不转换

| 类型 | 单位 | ✅ 正确 | ❌ 错误 |
|------|------|---------|---------|
| 长度 | mm | `28 mm` | `2.8 cm` |
| 粗糙度(球头) | nm | `50 nm` | `0.05 μm` |
| 粗糙度(内衬) | μm | `0.1 μm` | `100 nm` |
| 硬度 | HV/HRC | `450 HV` | `450` |
| 模量 | GPa/MPa | `210 GPa` | 转换 |
| 密度 | g/cm³ | `8.3 g/cm³` | 转换 |
| 磨损率 | mg/10⁶cycles | 保持原样 | 转换 |

**特殊格式保留**：
- 不等式：`"< 50 nm"`, `"> 400 HV"`
- 范围：`"28-32 mm"`, `"400-500 HV"`
- 误差：`"28.5±0.2 mm"`, `"450±20 HV"`
- 科学计数：`"1.5×10⁻⁶ mm³/Nm"`

---

## 🔄 多记录提取

### 创建独立记录的情况

✅ **必须创建独立记录**：
1. 不同材料组合
2. 不同测试条件（载荷、温度）
3. 不同样本组（对照vs实验）
4. 不同处理工艺
5. 表格中的多行数据
6. 综述中引用的不同文献

**示例**：
```
Table 1中有3行数据（A、B、C样本）→ 创建3条记录
论文测试了2种材料 → 创建2条记录
```

---

## 💾 字段特殊处理

### 1. 数据ID（所有表）
```json
"数据ID": "${DATA_ID}"  // 必须用占位符
```

### 2. 来源文件和论文ID（所有表）
```json
"来源文件": null,  // 必须null，系统自动填充
"论文ID": null     // 必须null，系统自动填充
```

### 3. 论文标题和DOI
```json
"论文标题": "从论文开头提取完整标题",
"论文DOI号": "10.xxxx/xxxxx"  // 没有则null
```

---

## 📋 数据表结构（12表）

### 主表：Sheet1_基本信息表

| 字段 | 说明 | 示例 |
|------|------|------|
| 数据ID | 占位符 | `"${DATA_ID}"` |
| 应用部位 | 关节类型 | `"髋关节"`, `"膝关节"` |
| 产品所属专利号或文献 | 数据来源 | `"引用文献[15]"`, `null` |
| 来源文件 | 留空 | `null` |
| 论文标题 | 完整标题 | `"Effect of..."` |
| 论文DOI号 | DOI | `"10.1016/..."` |
| 论文ID | 留空 | `null` |

### 从表2-12：通过数据ID关联

**表2-12说明**：
- Sheet2：内衬基本信息（材料、厚度、填料、工艺）
- Sheet3：球头基本信息（材料、直径、微观结构）
- Sheet4：配合信息（间隙）
- Sheet5：股骨柄基本信息（材料、尺寸、结构）
- Sheet6：内衬物理性能（硬度、模量、强度）
- Sheet7：球头物理性能（硬度、模量、强度）
- Sheet8：股骨柄物理性能（硬度、模量、强度）
- Sheet9：实验参数（载荷、频率、润滑液）
- Sheet10：性能测试结果（磨损率、摩擦系数）
- Sheet11：计算模拟参数（软件、输入输出）
- Sheet12：计算模拟图像（图片路径、说明）

**每个表都必须包含**：
- `"数据ID": "${DATA_ID}"`
- `"来源文件": null`
- `"论文ID": null`

---

## 📝 JSON输出格式

```json
{
  "records": [
    {
      "Sheet1_基本信息表": {
        "数据ID": "${DATA_ID}",
        "应用部位": "髋关节",
        "产品所属专利号或文献": null,
        "来源文件": null,
        "论文标题": "CoCrMo Alloy Features...",
        "论文DOI号": "10.1016/j.wear.2020.203456",
        "论文ID": null
      },
      "Sheet2_内衬基本信息表": {
        "数据ID": "${DATA_ID}",
        "内衬材料名称": "UHMWPE",
        "内衬厚度(mm)": "6.3 mm (Table 1)",
        "内衬后处理": "100 kGy辐照交联",
        "来源文件": null,
        "论文ID": null
      },
      "Sheet3_球头基本信息表": {
        "数据ID": "${DATA_ID}",
        "球头材料名称": "CoCrMo合金",
        "球头直径(mm)": "28 mm",
        "球头晶粒尺寸": "5±1.2 μm (Figure 1: images/58a6588c...534d.jpg)",
        "来源文件": null,
        "论文ID": null
      },
      "Sheet4_配合信息表": null,
      "Sheet5_股骨柄基本信息表": null,
      "Sheet6_内衬物理性能表": {
        "数据ID": "${DATA_ID}",
        "内衬硬度(HV)": "65 HV (Table 2)",
        "来源文件": null,
        "论文ID": null
      },
      "Sheet7_球头物理性能表": null,
      "Sheet8_股骨柄物理性能表": null,
      "Sheet9_实验参数": {
        "数据ID": "${DATA_ID}",
        "载荷": "2000 N",
        "频率": "1 Hz",
        "来源文件": null,
        "论文ID": null
      },
      "Sheet10_性能测试结果表": {
        "数据ID": "${DATA_ID}",
        "磨损率": "2.3 mg/10⁶ cycles (Table 3, Figure 5: images/362879...e9df.jpg)",
        "来源文件": null,
        "论文ID": null
      },
      "Sheet11_计算模拟参数表": null,
      "Sheet12_计算模拟图像表": null
    }
  ]
}
```

**多记录格式**：
```json
{
  "records": [
    { /* 实验1的所有表 */ },
    { /* 实验2的所有表 */ }
  ]
}
```

---

## ✅ 提取检查清单

**返回JSON前必须确认**：

- [ ] 所有"数据ID"使用`${DATA_ID}`占位符
- [ ] 所有"来源文件"和"论文ID"为null
- [ ] 所有数值带单位，未进行转换
- [ ] 空值使用null，不用空字符串或"{}"
- [ ] 识别了所有独立实验
- [ ] **图片数据包含完整链接**（格式：`Figure X: images/xxx.jpg`）
- [ ] 表格数据标注了编号（格式：`Table X`）
- [ ] JSON格式正确，无markdown代码块包裹

---

## 🚫 常见错误示例

### 错误1：使用具体ID
```json
❌ "数据ID": "AJ_20260206_001"
✅ "数据ID": "${DATA_ID}"
```

### 错误2：空值处理
```json
❌ "内衬厚度(mm)": ""  或  "Sheet4_配合信息表": {}
✅ "内衬厚度(mm)": null  和  "Sheet4_配合信息表": null
```

### 错误3：单位缺失或转换
```json
❌ "球头直径(mm)": "28"  或  "28 mm (原文2.8 cm)"
✅ "球头直径(mm)": "28 mm"  或  "2.8 cm"（保持原单位）
```

### 错误4：图片链接不完整
```json
❌ "球头晶粒尺寸": "5 μm (Figure 1)"
❌ "球头晶粒尺寸": "5 μm (58a6588c.jpg)"
✅ "球头晶粒尺寸": "5±1.2 μm (Figure 1: images/58a6588ced...f3f4534d.jpg)"
```

### 错误5：Sheet12处理错误
```json
❌ "计算建模模拟结构图": "Figure 1: images/xxx.jpg"
✅ "计算建模模拟结构图": "images/xxx.jpg"
✅ "计算建模模拟结构图说明": "Figure 1: 完整图注"
```

---

## 📚 特殊情况说明

### 1. 综述论文
```
引用其他文献数据时：
"产品所属专利号或文献": "引用文献[15]"
```

### 2. 多语言
```
保持原语言，不翻译专业术语
中文论文→中文，英文论文→英文
```

### 3. 材料名称规范化
```
超高分子量聚乙烯 → UHMWPE
交联聚乙烯 → XLPE
钴铬钼合金 → CoCrMo
钛合金 → Ti-6Al-4V
氧化锆陶瓷 → ZrO₂陶瓷
氧化铝陶瓷 → Al₂O₃陶瓷
```

---

**最后提醒**：
1. 返回纯JSON，不要markdown代码块包裹
2. 严格遵守"不编造、不推测、不转换"
3. 图片链接必须完整（包含images/前缀和完整文件名）
4. 所有占位符和null值必须正确

